# PART 01. 리액트 기초

### CH01. 수업 소개
리액트는 페이스북의 UI를 더 잘 만들기 위해 페이스북에서 만든 자바스크립트 UI 라이브러리 입니다.   
리액트 기술은 사용자 정의 태그를 만들어주는 기술 중 하나입니다.  
__리액트에서는 이렇게 사용자가 정의한 태그를 사용자 정의 태그라고 하지 않고 컴포넌트(Component)라고 부릅니다.__  
이렇게 컴포넌트를 작성하면 가독성을 획기적으로 높일 수 있습니다.  

<br>

### CH02. 리액트 공부 전략
이 수업 앞단에서는 `코딩하는 법`, `실행하는 법`, `배포하는 법` 이 세 가지를 빠른 속도로 살펴보고 뒤에서 나머지 개념을 배워나갈 생각입니다.  

<br>

### CH03. 개발 환경의 종류
공식 문서의 'Create a New React App'에서는 `툴 체인(Tool Chain)`을 이용해 개발하는 방법을 알려줍니다.  
__툴체인이란 리액트로 앱을 개발할 때 목표가 무엇이냐에 따라 그 목표를 달성하는 데 필요한 여러 가지 개발 환경 및 도구를 모아서 한 번에 제공하는 도구__ 를 말합니다.  
__npm이란 Node.js라는 기술을 이용해서 만들어진 여러 앱을 명령어 환경에서 아주 손쉽게 설치할 수 있게 도와주는 도구__ 입니다.  
npm을 이용해서 Create React App 앱을 설치할 수 있고 이를 통해 개발 환경을 완성할 수 있습니다.  

<br>

### CH04. npm을 이용한 Create React App 설치  
npm은 Node.js로 만들어진 프로그램을 쉽게 설치해주는 일종의 앱스토어이기 때문에 npm을 설치할 때는 Node.js라는 프로그램을 먼저 컴퓨터에 설치해야 합니다.  
그런데 공식적으로는 npx라는 도구를 이용하라고 적혀 있습니다.  

__여기서 npm과 npx의 차이는 npm이 프로그램을 설치하는 프로그램이고 프로그램을 임시로 설치해서 딱 한 번만 실행시키고 지운다는 점 입니다.__  
즉, npx의 장점은 다음과 같다.   

    1. 컴퓨터 공간을 낭비하지 않는다.  
    2. 설치를 실행할 때마다 새로 다운로드하기 때문에 항상 최신 상태다.  
공식적으로 npx를 강조하는 이유는 최신 버전의 Create React App을 사용하게 유도하기 위해서라고 유추됩니다.  

<br>

### CH05. Create React App을 이용한 개발 환경 구축  
리액트 개발 환경을 구축할 폴더로 이동한 다음 `create-react-app .` 명령어를 입력하여 리액트 개발 환경을 구축할 수 있다.  

<br> 

### CH06. 샘플 웹앱 실행하기  
`npm run start` 명령어를 통해 앱을 실행할 수 있습니다.  

<br>  

### CH07. 자바스크립트 코딩하는 법
크게 `src`와 `public`이라는 디렉터리가 있습니다.  
그중에서 `public`이라는 디렉터리에는 index.html이 있습니다. 이는 Create React App을 실행하면 나오는 첫 화면이 웹 브라우저상에서 index.html 이라는 파일을 실행한 결과입니다.  
__index.html 파일의 내용 중에는 div 요소의 id를 root로 설정한 내용이 있습니다.  
컴포넌트들은 id가 root인 div 요소 안에 들어가게 Create React App이 약속해 놓았기 때문입니다.__  

`src`는 source를 나타내는 디렉터리로 컴포넌트 소스 코드를 포함한 다양한 소스 코드들을 갖고 있습니다.  
앞으로 리액트 프로그래밍을 하게 되면 대부분 파일은 src라는 디렉터리에 넣게 되는데 __그 중에서 특히 앱의 진입점 역할을 하는 파일이 index.js입니다.__  
index.js 안의 `<App />`이라고 적힌 부분은 바로 리액트를 통해 만든 사용자 정의 태그, 즉 컴포넌트입니다.  
그리고 컴포넌트의 실제 구현은 import App from './App'을 통해 가져옵니다.  
__컴포넌트를 작성할 때 주의할 점은 컴포넌트는 하나의 태그 안에 들어가야 한다는 점입니다. 즉, 가장 바깥쪽에는 하나의 태그만 있어야 합니다.__  

<br>

### CH08. CSS 코딩하는 법
js 파일에서 css 파일을 import하여 css를 사용 가능하다.  

<br>

### CH09. 배포하는 법
Create React App의 개발 환경은 상당히 무게가 무거운 편인데, 개발자가 개발할 때는 앱이 무거워도 상관없지만 사용자에게 이 상태로 앱을 제공할 수는 없습니다.  
이 상태로 앱이 제공된다면 용량이 큰 것도 문제지만, 여러 가지 보안 문제가 발생할 수 있습니다.  

Create React App에서 앱을 시작할 때는 `npm run start` 명령을 사용하지만 프로덕션 모드의 애플리케이션을 만들 때, 즉 빌드(build)할 때는 `npm run build` 명령어를 사용합니다.  
빌드한 다음 파일을 열어보면 공백과 같이 불필요하게 용량을 차지하는 정보들이 삭제된 것을 확인할 수 있습니다.  
__결론적으로 실제로 앱을 서비스할 때는 build 안에 있는 파일들을 사용해야 합니다.__   
웹서버의 Document Root, 즉 웹 서버가 HTML 문서를 찾는 최상위 디렉터리에 빌드를 통해 생성된 build 디렉터리의 파일/폴더를 위치시켜야 합니다.  
"serve -s build" 명령은 간단한 웹 서버를 통해 빌드된 앱을 실행해 볼 수 있는 명령입니다.  

<br>

### CH10. 리액트가 없다면?
public 디렉터리는 Create React App에서 `npm run start` 명령어로 실행했을 때 파일을 찾는 Document Root 입니다.  
시맨틱 태그는 리액트와 아무 상관 없는 HTML5 스팩으로 의미를 부여해주는 태그입니다. 기능상 다른 태그와 차이점이 전혀 없습니다.
리액트는 다량의 코드의 가독성과 유지보수성을 높여줍니다.  

<br>

### CH11. 컴포넌트 만들기   
App.js의 App class는 리액트가 갖고 있는 Component라는 클래스를 상속해서 새로운 App 클래스를 만들며 그 클래스는 render라는 메서드를 갖고 있습니다.  

__컴포넌트(클래스) 이름은 대문자로 시작해야 합니다. 그리고 컴포넌트에는 반드시 render라는 함수가 있어야 합니다.__  
우리가 알고 있는 일반적인 함수는 앞에 function 키워드가 붙지만 최신 자바스크립트 스펙에 들어 있는 클래스 문법은 소속되는 함수의 function 키워드를 생략 합니다. 즉, class 내부에서는 function 키워드를 생략 가능합니다.
__render() 메서드는 반드시 하나의 태그만 리턴할 수 있습니다. 따라서 컴포넌트를 만들 때는 반드시 하나의 최상위 태그로 시작해야 합니다.__  

리액트가 최종적으로 웹 브라우저에게 변경된 HTML 코드를 공급하기 때문에 웹 브라우저는 리액트가 있는지 알지 못합니다.  
리액트는 `JSX(Javascript XML)`를 사용합니다. JSX는 자바스크립트와 거의 비슷하지만, 자바스크립트는 아닙니다.  
__JSX로 코드를 작성하면 Create React App이 알아서 자바스크립트 코드로 변환해줍니다.__  

컴포넌트는 정리정돈의 기능을 합니다. 컴포넌트의 이름에만 집중하게 함으로써 복잡도를 획기적으로 낮출 수 있으며 거기서 다시 더 큰 복잡도에 도전할 수 있는 여지가 생깁니다.  

<br>

### CH12. props
우리가 만든 컴포넌트도 HTML의 태그 이름, 속성값을 사용하는 것과 같은 원리로 __속성값을 붙여서 컴포넌트를 다르게 보이게 만들 수 있습니다.__  
__`props`는 리액트에서 속성값을 나타낸는 키워드입니다.__ HTML의 속성과 용어상의 충돌을 막기 위해서인지 리액트에서는 props라는 키워드를 사용합니다.  
props를 사용하면 props 값을 받아서 그것을 바탕으로 서로 다른 결과를 만들어내는 훨씬 더 똑똑한 컴포넌트를 만들 수 있습니다.  

<br>

### CH13. React Developer Tools
어떤 주제를 학습하기 위한 가장 중요한 도구는 이 두 가지입니다.  
- 설명서를 볼 줄 아는 것
- 현재 상태를 측정하고 분석하는 것

크롬 브라우저 확장 프로그램인 'React Developer Tools'를 사용하면 [components] 탭을 사용할 수 있습니다.  
[components] 탭에서는 컴포넌트들을 볼 수 있습니다. 우측 컴포넌트의 props를 볼 수 있고 각 값이 무엇인지 확인 가능하며 곧바로 값을 변경하여 테스트 또한 가능합니다.  

<br>

### CH14. 컴포넌트를 파일로 분리하기  
components 폴더 내에 컴포넌트별로 별도의 파일로 정리정돈하면 유지보수하기 수월합니다.  
분리된 component 파일을 사용하기 위해서는 import를 해야 합니다.  
분리된 각 컴포넌트 파일의 맨 아래에 'export default 파일명'을 추가하여 해당 클래스를 외부에서 사용할 수 있도록 허용해야 합니다.  

<br>  

### CH15. state
- __props : 사용자가 컴포넌트를 사용하는 입장에서 중요한 것.__
- __state : props의 값에 따라 내부 구현에 필요한 데이터.__  

__컴포넌트의 기본적인 동작을 다양하게 바꾸고 싶을 때 컴포넌트의 속성에 해당하는 props를 제공함으로써 사용자가 해당 컴포넌트를 조작할 수 있게 됩니다.__ 즉, props는 컴포넌트 사용자에게 중요한 정보입니다.  
__반면, 사용자는 알 필요도 없고 알아서도 안되는, 컴포넌트 내부적으로 사용되는 것들을 state라고 합니다.__  

그래서 컴포넌트를 만들고 어떤 시스템의 좋은 부품이 되기 위해서는 그 컴포넌트를 사용하는 외부의 props와 그 props에 따라 컴포넌트를 실제로 구현하는 내부의 state라는 정보가 철저하게 분리돼 있어야 합니다.   
<br>  
_state 사용_  
state를 사용하기 위해서는 constructor를 작성해야 합니다.  
어떤 컴포넌트가 실행될 때 render라는 함수보다 먼저 실행되면서 해당 컴포넌트를 초기화하고 싶은 코드는 constructor에 작성합니다.   
__state는 외부에서 알 필요가 없는 정보를 철저하게 은닉하는 것, 철저하게 숨기는 것이 좋은 사용성을 만드는 핵심입니다.__  

<br>

### 이벤트 state props와 render 함수  
이벤트(애플리케이션을 역동적으로 만들어주는 기술)는 `props`, `state`, `event`라는 3가지가 서로 상호작용하면서 애플리케이션의 역동성을 만들기 때문에 이것들을 함께 생각해볼 필요가 있습니다.  
render 함수는 '어떤 HTML을 그릴 것인가'라는 것을 결정하는 함수입니다.  
리액트에서는 props의 값이나 state가 바뀌면 그에 해당하는 컴포넌트의 render 함수가 호출되도록 약속돼 있습니다.  
__즉, props나 state가 바뀌면 화면이 다시 그려집니다.__       
<br>  
_이벤트 설치_  
기존 자바스크립트 코드로는 onclick(모두 소문자) 이벤트를 사용했지만 __리액트에서는 리액트만의 규칙에 따라 onClick('C'가 대문자)을 사용해야 합니다.__    
그리고 자바스크립트에서는 onclick=""와 같이 onclick 다음에 오는 내용을 문자열로 묶었지만 __리액트에서는 onClick={}와 같이 중괄호 안에 적당한 코드를 작성하면 됩니다.__  

__리액트에서는 이벤트 함수가 호출될 때 첫 번째 매개변수의 값으로 event라는 객체를 주입해 주기로 약속돼 있습니다.__  
event 객체는 우리가 이벤트를 처리할 수 있게 함수의 첫 번째 인자로 주입된 정보입니다.  
이 event 객체에는 `preventDefault`라는 함수가 속해 있습니다.  
이 함수는 이벤트가 발생한 태그의 기본적인 동작을 못 하게 막는 기능을 수행합니다.  
__정리하자면, HTML에 이벤트를 걸 때 해당 태그의 이벤트가 가지고 있는 기본 동작을 하지 못하게 해야 할 때가 있는데 그때 사용하는 명령이 바로 prventDefault 입니다.__  
추가로 이벤트 객체의 .target 속성은 이벤트가 발생한 태그를 가리킵니다. e.target.dataset.id와 같이 e.target을 통해 태그에 지정해둔 속성에 접근할 수 있습니다.   
<br>  
_이벤트에서 state 변경하기_  
이벤트가 호출되었을 때 실행되는 이 함수 안에서 this는 아무 값도 설정되어 있지 않습니다. 그렇기 때문에 this는 undefined 입니다.  
__이때 함수 선언이 끝난 직후에 `.bind(this)`를 붙이면 함수 안에서 this가 우리의 컴포넌트 클래스를 가리키게 됩니다.__  

또한 state 값을 변경할 때는 리액트가 시키는 대로 state 값을 변경해야 리액트가 state 값이 변경된 사실을 알아차리고 repaint 할 수 있습니다.  
__따라서, 리액트에서는 state 값을 변경할 때 `this.setState()` 함수를 이용해야 합니다.__   
<br>  
_이벤트 bind 함수 이해하기_  
bind 함수를 사용하여 이벤트가 호출되었을 때 실행되는 함수 내의 this 값을 강제로 주입할 수 있습니다.    
<br>  
_이벤트 setState 함수 이해하기_  
컴포넌트의 생성자, 즉 constructor는 컴포넌트가 생성될 때 최초로 실행됩니다.  
이때 this.state의 초깃값은 constructor에서 작성한 것처럼 입력됩니다.  
하지만 이미 컴포넌트가 생성되 다음에 동적으로 state 값을 바꿀 때는 this.setState() 함수에 변경하고 싶은 값을 객체 형태로 전달하는 방식으로 변경해야 합니다.  
__그 이유는 this.state 값을 직접 변경하게 되면 리액트가 state 값이 바뀌었는지 인지할 수 없기 때문에 state 값이 변경될 때 렌더링할 수 없는 것입니다.__  
setState 함수는 호출되면서 리액트가 내부적으로 많은 일을 합니다.  

<br>

### CH17. 컴포넌트 이벤트 만들기
__props로 이벤트가 호출되었을 때 실행되는 함수를 전달할 수 있습니다.__     
bind 함수에서 두 번째 인자로 특정 값을 지정하면 bind 호출 대상이 되는 함수의 첫 번째 인자로 해당 값이 전달됩니다. 그리고 나머지 인자는 한칸씩 뒤로 밀리게 됩니다.   

<br>

### CH18. 베이스 캠프
__props는 'read only'(읽기 전용) 입니다. 반면 state는 'read only'가 아니고 수정할 때는 setState로 바꿀 수 있습니다.__   
컴포넌트 안에서 외부에서 전달된 props의 값을 바꾸는 것은 금지돼 있습니다. 즉, props는 읽기전용(read only) 입니다.  
하지만 컴포넌트 밖에서 props를 바꾸는 것은 당연히 허용됩니다.  

컴포넌트 내부적으로 필요한 데이터나 어떤 상태들은 state를 통해 관리합니다.  
__props와 state 모두 render 함수의 호출을 유발하기 때문에 props와 state를 적당히 수정하는 방식으로 UI를 바꿀 수 있습니다.__  
- __상위 컴포넌트가 하위 컴포넌트에게 어떤 데이터를 전달할 때는 props를 씁니다.__  
- __하위 컴포넌트가 상위 컴포넌트로 데이터를 전달할 때는 props의 값을 바꿀 수 없기 때문에 이벤트를 씁니다.__  

예를 들자면, App이라는 상위 컴포넌트가 내부적으로 사용하는 TOC라는 하위 컴포넌트에 값을 전달할 때는 data라고 하는 props에 값을 전달합니다.   
반면에, 상위 컴포넌트인 App 컴포넌트의 state를 변경하려고 하면 이벤트 함수(onChangePage 함수에서 setState를 호출)를 구현하는 방식으로 해당 이벤트가 트리거되었을 때 상위 컴포넌트의 state를 바꿀 수 있습니다.    

정리하지면, 상위 컴포넌트가 하위 컴포넌트에게 명령할 때는 props를 이용하고 하위 컴포넌트가 상위 컴포넌트에게 명령할 때는 이벤트를 씁니다.  
다음으로 `Redux`를 설명하자면 __데이터를 각 컴포넌트에 분산해서 보관하는 것이 아니라 하나의 데이터 저장소가 있어서 데이터 저장소의 값이 바뀌면 해당 값과 관련된 모든 컴포넌트가 알아서 바뀌게 하는 기법__ 입니다.     
