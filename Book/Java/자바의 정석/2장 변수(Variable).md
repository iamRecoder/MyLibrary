CH02. 변수
========
## 변수
프로그래밍 언어에서의 변수란 값을 저장할 수 있는 메모리상의 공간을 의미한다.  
하나의 변수에 단 하나의 값만 저장할 수 있으므로, 새로운 값을 저장하면 기존의 값은 사라진다.  

### 변수 선언
변수를 선언하면 메모리의 빈 공간에 '변수타입'에 알맞은 크기의 저장공간이 확보되고, 앞으로 이 저장공간은 '변수이름'을 통해 사용할 수 있게 된다.  

### 변수 초기화  
반드시 변수를 '초기화'해야 한다. 메모리는 여러 프로그램이 공유하는 자원이므로 전에 다른 프로그램에 의해 저장된 알 수 없는 값(쓰레기 값)이 남아 있을 수 있기 때문이다.  
변수는 한 줄에 하나씩 선언하는 것이 보통이지만,타입이 같은 경우 콤마 ','를 구분자로 여러 변수를 한 줄에 선언하기도 한다.  
변수의 종류에 따라 변수의 초기화를 생략할 수 있는 경우도 있지만, 변수는 사용되기 전에 적절한 값으로 초기화하는 것이 좋다.  

### 변수의 명명 규칙
'변수의 이름'처럼 프로그래밍에서 사용하는 모든 이름을 '식별자'라고 하며, 식별자는 같은 영역 내에서 서로 구분(식별)될 수 있어야한다. 
```text
변수의 명명 규칙
1. 대소문자가 구분되며 길이에 제한이 없다.  
2. 예약어를 사용해서는 안 된다.
3. 숫자로 시작해서는 안 된다.
4. 특수문자는 '_'와 '$'만을 허용한다.
```

그 외에 필수적인 것은 아니지만 자바 프로그래머들에게 권장하는 규칙들은 다음과 같다.  
```text
1. 클래스 이름의 첫 글자는 항상 대문자로 한다. 변수와 메서드 이름의 첫 글자는 항상 소문자로 한다.
2. 여러 단어로 이루어진 이름은 단어의 첫 글자를 대문자로 한다.
3. 상수의 이름은 모두 대분자로 한다. 여러 단어로 이루어진 경우 '_'로 구분한다.
```
변수의 이름은 짧을수록 좋지만, 약간 길더라도 용도로를 알기 쉽게 '의미있는 이름'으로 하는 것이 바람직하다.  
<br>

## 변수의 타입
값(data)의 종류(type)에 따라 값이 저장될 공간의 크기와 저장형식을 정의한 것이 자료형(data type)이다.  
변수를 선언할 때는 저장하려는 값의 특성을 고려하여 가장 알맞은 자료형을 변수의 타입으로 선택하면 된다.  

### 기본형과 참조형  
`기본형 변수`는 실제 값(data)를 저장하는 반면, `참조형 변수`는 어떤 값이 저장되어 있는 주소(memory address)를 값으로 갖는다.  
자바는 C 언어와 달리 참조형 변수 간의 연산을 할 수 없으므로 실제 연산에 사용되는 것은 모두 기본형 변수이다.  
```text
기본형(primitive type)
- 논리형(boolean), 문자형(char), 정수형(byte,short,int,long), 실수형(float,double)이 있다. 
계산을 위한 실제 값을 저장한다. 모두 8개.

참조형(reference type)
- 객체의 주소를 저장한다. 8개의 기본형을 제외한 나머지 타입.
```

참조형 변수를 선언할 때는 변수의 타입으로 클래스의 이름을 사용하므로 클래스의 이름이 참조변수의 타입이 된다. 그래서 새로운 클래스를 작성한다는 것은 새로운 참조형을 추가하는 셈이다.  
객체를 생성하는 연산자 new의 결과는 생성된 객체의 주소이다. 이 주소가 대입 연산자 '='에 의해서 참조변수에 저장되는 것이다.  

### 기본형
|분류|       타입        | 설명                                                                                            |
|:---:|:---------------:|:----------------------------------------------------------------------------------------------|
|논리형| boolean(1 byte) | true와 false 중 하나의 값으로 갖으며, 조건식과 논리적 계산에 사용된다. boolean은 다른 기본형과의 연산이 불가능하다.                    |
|문자형|  char(2 byte)   | 문자를 저장하는데 사용되며, 변수에 하나의 문자만 저장할 수 있다. 문자형인 char는 문자를 내부적으로 정수(유니코드)로 저장하기 때문에 정수형과 별반 다르지 않다. |
|정수형|  byte(1 byte)   | 이진 데이터를 다룰 때 사용된다.                                                                            |
|정수형|  short(2 byte)  | C 언어와의 호환을 위해 추가되었다.                                                                          |
|정수형|   int(4 byte)   | int는 CPU가 가장 효율적으로 처리할 수 있는 정수 타입이다. 효율적인 실행보다 메모리를 절약하려면 byte나 short를 사용한다.                  |
|정수형|  long(8 byte)   | 길어서 long                                                                                      |
|실수형|float(4 byte)| 실수값을 부동소수점(floating point)방식으로 저장한다. 정밀도는 7 자리이다.                                             |
|실수형|double(8 byte)| float보다 두 배의 크기를 갖기 때문에 double. 정밀도는 15자리이다.                                                  |

int 타입의 변수는 대략 10자리 수의 값을 저장할 수 있으므로 필요에 따라 넉넉하게 Long 타입으로 변수를 선언하는 것이 좋다.  
실수형은 정수형과 저장형식이 달라서 같은 크기라도 훨씬 큰 값을 표현할 수 있으나 오차가 발생할 수 있다는 단점이 있다.  
그래서 정밀도가 중요한데, 정밀도가 높을 수록 발생할 수 있는 오차의 범위가 줄어든다.  

### 상수와 리터럴
- 상수
  - 값을 한 번 저장하면 변경할 수 없는 저장공간
  - 상수를 선언하는 방은 변수의 타입 앞에 키워드 `final`을 붙여주면 된다. 
  - 상수는 반드시 선언과 동시에 초기화해야 하며, 그 후 부터는 상수의 값을 변경하는 것이 허용되지 않는다.
  - 상수의 이름은 모두 대문자로 하는 것이 암묵적인 관례이며, 여러 단어로 이루어져 있는 경우 '_'로 구분한다.  

- 리터럴
  - 그 자체로 값을 의미하는 것

### 리터럴의 타입과 접미사  
정수형과 실수형에는 여러 타입이 존재하므로, 리터럴에 점미사를 붙여서 타입을 구분한다.  
- 정수의 경우, long 타입의 리터럴로 접미사 'l' 또는 'L'을 붙이고 접미사가 없으면 int 타입의 리터럴이다.
- 10진수 외에도 2,8,16 진수로 표현된 리터럴을 변수에 저장할 수 있다. 2진수는 접두사 '0b', 8진수는 접두사 '0', 16진수는 접두사 '0x'를 리터럴 앞에 붙인다.
- JDK 1.7부터 정수형 리터럴의 중간에 구분자 '_'를 넣을 수 있게 되어서 큰 숫자를 편하게 읽을 수 있다.
- 실수형에서는 float 타입의 리터럴에 접미사 'f' 또는 'F'를 붙이고, double 타입의 리터럴에는 접미사 'd' 또는 'D'를 붙인다. 이때, 실수형에서는 double이 기본 자료형이라서 접미사 'd'는 생략이 가능하다.
- 리터럴에 소수점이나 10의 제곱을 나타내는 기호 E 또는 e, 그리고 접미사 f,F,d,D를 포함하고 있으면 실수형 리터럴로 간주된다.
- 리터럴의 접두사와 접미사는 대소문자를 구별하지 않으므로, 대문자와 소문자 중에서 어떤 것을 사용해도 상관없다.

### 타입의 불일치
리터럴의 타입은 저장될 변수의 타입과 일치하는 것이 보통이지만, 타입이 달라도 저장범위가 넓은 타입에 좁은 타입의 값을 저장하는 것은 허용된다.  
그러나 리터럴의 값이 변수의 타입 범위를 넘어서거나, 리터럴의 타입이 변수의 타입보다 저장 범위가 넓으면 컴파일 에러가 발생한다.  
```text
float f = 3.14  // 에러. float 타입보다 double 타입의 범위가 넓다.

byte와 short 타입의 리터럴은 따로 존재하지 않으므로 int 타입의 리터럴을 사용한다. 단, 변수가 저장할 수 있는 범위에 속한 것이어야 한다.  
byte b = 65 // OK. byte 타입에 저장 가능한 범위의 int 타입 리터럴.
```

### 문자 리터럴과 문자열 리터럴
작은 따옴표 문자 하나를 감싼 것을 `문자 리터럴`이라고 한다. 두 문자 이상은 큰 따옴표로 감싸야 하며 `문자열 리터럴`이라고 한다.  
문자열을 저장하기 위해서는 String 타입을 사용해야 한다. 문자열 리터럴은 "" 안에 아무런 문자도 넣지 않는 것을 허용하며, 이를 빈 문자열이라고 한다. 
그러나 문자 리터럴은 반드시 '' 안에 하나의 문자가 있어야 한다.  
```text
String str = "";    // OK.
char ch = '';   // ERROR.
char ch = ' ';  // OK. 공백 문자로 변수 ch를 초기화.
```

원래 String은 클래스이므로 객체를 생성하는 연산자 new를 사용해야 하지만 문자열 리터럴과 같은 표현도 허용한다. 그리고 덧셈 연산자를 이용하여 문자열을 결합할 수 있다.  
덧셈 연산자(+)는 피연산자가 모두 숫자일 때는 두 수를 더하지만, 피연산자 중 어느 한 쪽이 String이면 나머지 한 쪽을 먼저 String으로 변환한 다음 두 String을 결합한다. 기본형과 참조형의 구별 없이 어떤 타입의 변수도 문자열과 덧셈 연산을 수행하면 그 결과 문자열이 된다.  
