# 07 문자열 검색

문자열 검색이란 어떤 문자열 안에 특정 문자열이 들어 있는지 조사하고, 들어있다면 그 위치를 찾는 것을 말한다.  

### 07-1 브루트-포스법  
브루트-포스법은 `선형 검색을 확장한 단순한 알고리즘`이므로 단순법, 소박법이라고도 한다.  

> 문자열과 String 클래스  
> 
> 자바에서 문자열은 java.lang 패키지에 소속된 String 클래스로 나타낸다. 
> 이 형은 기본형이 아니다.  
> String 클래스가 제공하는 대표적인 메서드는 다음과 같다.  
> - 변수 이름.length(): 문자열의 길이를 int형 값으로 반환한다.
> - 변수 이름.charAt(i): 문자열 안에서 특정 위치에 있는 문자를 가져온다.  
> - 변수 이름.substring(begin): 부분 문자열을 꺼낸다. 인덱스가 begin인 문자부터 맨 끝까지의 문자열을 반환한다.
> - 변수 이름.substring(begin, end): 부분 문자열을 꺼낸다. 인덱스가 begin인 문자부터 end 바로 앞 문자까지의 문자열을 반환한다.  
> - 변수 이름.equals(): 다른 문자열과 내용이 같은지 조사하는 메서드이다.
> - 변수 이름.compareTo(s): 인수로 전달받은 문자열과 비교(대소 관계를 판단)한다.

<br>

java.lang.String 클래스는 문자열을 검색하는 `indexOf` 메서드와 `lastIndexOf` 메서드를 제공한다.  
- int indexOf(String str)
- int indexOf(String str, int fromIndex)
- int lastIndexOf(String str)
- int lastIndexOf(String str, int fromIndex)  

위의 메서드는 모두 지정한 특정 문자열이 포함되어 있는지 검색한다. 
검색에 성공하면 찾은 문자열의 인덱스를 반환하고 실패하면 -1을 반환한다. 
lastIndexOf는 문자열에 대해 가장 뒤쪽에 위치한 문자열을 검색한다.  

<br>

### 07-2 KMP법  
KMP법은 `일치하지 않는 문자를 만나면 패턴을 1칸 옮긴 다음, 패턴의 처음부터 다시 검사하는 브루트-포스법과는 달리 그때까지 검사한 결과를 효과적으로 이용하는 알고리즘`이다.  

브루트-포스법은 일치하지 않는 문자를 만난 단계에서 그때까지 검사한 결과를 버리고 패턴을 텍스트의 다음 칸으로 옮긴 다음 패턴의 첫 번째 문자부터 다시 검사한다. 
하지만 KMP법은 검사한 결과를 버리지 않고 이를 효과적으로 활용하는 알고리즘이다.  
KMP법은 텍스트와 패턴 사이에 겹치는 부분을 찾아내 검사를 다시 시작할 위치를 구하여 패턴을 한번에 많이 옮기는 알고리즘이다.  

하지만 패턴을 옮길 때마다 몇 번째 문자부터 다시 검색을 시작할지 계산한다면 높은 효율을 기대할 수 없다. 
그래서 '몇 번째 문자부터 다시 검색할지'에 대한 값을 미리 '표'로 만들어 이 문제를 해결한다.   
하지만 KMP법은 브루트-포스법보다는 복잡하고, 보이어・무어법에 비해 성능이 같거나 낮아 실제 프로그램에서는 별로 사용하지 않는다.  

<br>

### 07-3 보이어・무어법
보이어・무어법은 `브루트-포스법을 개선한 KMP법보다 효율이 더 좋기 때문에 실제 문자열 검색 프로그램에서 널리 사용하는 알고리즘`이다.  
보이어・무어법은 KMP법보다 이론과 실제 모두에서 더 우수한 알고리즘이다. 
이 알고리즘은 패턴의 마지막 문자부터 앞쪽으로 검사를 진행하면서 일치하지 않는 문자가 있으면 미리 준비한 표에 따라 패턴을 옮길 크기를 정한다.  


> 문자열 검색 알고리즘의 시간 복잡도와 실용성  
> 
> 텍스트의 문자 수가 n이고 패턴의 문자 수가 m일 때, 다음 3가지 문자열 검색 알고리즘의 시간 복잡도와 실용성은 다음과 같다.  
> 
> - 브루트-포스법  
> 이 알고리즘의 시간 복잡도는 O(mn)이지만, 일부러 만든 패턴이 아닌 한 실질적인 시간 복잡도는 O(n)이다.  
> 
> - KMP법  
> 이 알고리즘의 시간 복잡도는 최악의 경우에도 O(n)으로 매우 빠르다. 
> 선택한 요소를 다시 앞쪽으로 되돌릴 필요가 없으므로 파일에서 순서대로 읽어 들이면서 검색하는 경우에 알맞다. 
> 반면 처리하기 복잡하다는 점, 패턴 안에 반복하는 요소가 없으면 효율이 떨어진다는 단점이 있다.  
> 
> - 보이어-무어법  
> 이 알고리즘의 시간복잡도는 최악의 경우 O(n), 평균적으로 O(n/m)이므로 매우 빠르다. 
> 다만 원래 알고리즘인 2개의 배열을 사용하는 방법은 배열을 작성할 때 KMP법과 마찬가지로 처리하기 복잡하므로 효과가 상쇄된다.  

